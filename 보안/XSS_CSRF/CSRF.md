# **1. CSRF(Cross-Site-Request-Fogery)란?**

- 웹사이트 취약점 공격의 하나, 사이트 간 요청 위조라고 함
- 사용자가 의도와 상관없이 공격자가 의도한 행위(수정, 삭제, 등록 등등)을 웹 사이트에 요청하게 하는 공격
- 특정 웹사이트가 사용자의 웹 브라우저를 신뢰하고 있는 상태를 노린 것<br>
  -> XSS는 사용자가 특정 웹사이트를 신뢰하는 점을 노림

---

# **2. 공격방법**

## **1.공격 조건**

- 위조 요청을 전송하는 서비스에 사용자는 로그인 상태여야함.
- 사용자는 공격자가 만든 피싱 사이트에 접속해야함.

## **2.과정**

- 사용자가 서비스에 로그인 한 상태에서 CSRF 코드가 삽입된 페이지를 열면(피싱사이트)
- 공격 대상이 되는 웹사이트는 위조된 공격 명령이 신뢰할 수 있는 브라우저로부터 발송된 것으로 판단해 공격에 노출

---

# **3.XSS, CSRF 차이점**

|          |                 XSS                 |                        CSRF                        |
| :------: | :---------------------------------: | :------------------------------------------------: |
|   개요   | 악성 스크립트가 클라이언트에서 실행 | 권한을 도용당한 클라이언트가 서버에 가짜 요청 전송 |
| 공격대상 |             클라이언트              |                        서버                        |
|   목적   |     쿠키,세션갈취,웹사이트 변조     |                     권한 도용                      |

# **4. 방지 대책**

- Referrer 검증<br>
  -> Backend 단에서 request의 referrer을 확인하여 domain이 일치하는지 검증
- Security Token 사용<br>
  -> 사용자 세션에 임의의 난수 값을 저장하고, 사용자의 요청마다 해당 난수 값을 포함 시켜 전송<br>
  이후 Backend 단에서 요청을 받을 떄마다 세션에 저장된 토큰 값과 요청 파라미터에 전달되는 토큰 값이 일치한지 검증하는 방법

---

_내용 출처: https://lucete1230-cyberpolice.tistory.com/23_
